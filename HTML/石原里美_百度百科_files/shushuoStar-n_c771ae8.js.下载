define("wiki-lemma:widget/lemma_content/configModule/shushuo/shushuoStar-n/shushuoStar-n",function(t,e,a){var i=t("wiki-common:widget/lib/jquery/jquery"),o=t("wiki-common:widget/component/nslog/nslog"),r=t("wiki-common:widget/lib/echarts/echarts");t("wiki-common:widget/lib/echarts/echarts-wordcloud"),a.exports.init=function(t){var e={init:function(t){this.$totalEl=i("#J-fans-total"),t.interactionData&&(this.$interactChartEl=i("#J-fans-interaction-chart")[0],this.interactChartInstance=r.init(this.$interactChartEl),this.setInteractChartData(t.interactionData),o(10090305)),t.impressionData&&(this.$impressChartEl=i("#J-netizen-impression-chart")[0],this.impressChartInstance=r.init(this.$impressChartEl),this.setImpressChartData(t.impressionData),o(10090308)),this.setTotal()},setTotal:function(){this.$totalEl.text(this.shortNumFormatter(this.$totalEl.attr("data-num")))},shortNumFormatter:function(t){var e,a=[{value:1,symbol:"",digits:0},{value:1e4,symbol:"万",digits:1},{value:1e8,symbol:"亿",digits:2}];for(e=a.length-1;e>0&&!(t>=a[e].value);e--);var i=t/a[e].value;return this.numberFormat(i,a[e].digits)+a[e].symbol},numberFormat:function(t,e,a,i){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,r=isFinite(+e)?Math.abs(e):0,n="undefined"==typeof i?",":i,s="undefined"==typeof a?".":a,l="",h=function(t,e){var a=Math.pow(10,e);return""+(Math.round(t*a)/a).toFixed(e)};return l=(r?h(o,r):""+Math.round(o)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(l[1]||"").length<r&&(l[1]=l[1]||"",l[1]+=new Array(r-l[1].length+1).join("0")),l.join(s)},setInteractChartData:function(t){for(var e=[],a=t.xAxis.data,i=0;i<a.length;i++)e.push(a[i].name);for(var o=[],n=t.series[0].data,s=0;s<n.length;s++)o.push(n[s].value);var l=33+5.5*((""+Math.max.apply(null,o)).length-2),h={tooltip:{trigger:"axis",formatter:function(t){var e=n[t[0].dataIndex].tips+"<br/>";return e+='<span style="display:inline-block;margin-right:5px;border-radius:9px;',e+='width:9px;height:9px;background-color:#00CCBB;"></span>'+t[0].value},axisPointer:{type:"shadow",shadowStyle:{color:"rgba(112, 112, 112, 0)"}},padding:8,backgroundColor:"#FFFFFF",borderColor:"rgba(45, 99, 135, .4)",borderWidth:1,textStyle:{fontSize:13,color:"#333"},extraCssText:"z-index: 1;"},grid:{top:12,left:l,right:18,bottom:30,containLabel:!1},xAxis:{type:"category",axisLine:{show:!0,lineStyle:{color:"#E8EEF8"}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#E8EEF8"}},axisLabel:{textStyle:{color:"#666666",fontSize:12}},boundaryGap:!1,data:e},yAxis:{type:"value",name:"",splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#E8EEF8"}},axisTick:{show:!0},axisLabel:{inside:!1,margin:10,textStyle:{color:"#999",fontSize:12},formatter:function(t){return t},zlevel:10},scale:!0,splitNumber:5,zlevel:0},series:[{name:"",type:"line",smooth:!1,showSymbol:!1,itemStyle:{color:"#00CCBB",borderWidth:3,borderColor:"#FFF",emphasis:{color:"#00CCBB"}},lineStyle:{normal:{color:new r.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#00C9FF"},{offset:1,color:"#00FF96"}]),width:4,shadowBlur:15,shadowColor:"rgba(0, 0, 0, 0.20)",shadowOffsetX:10,shadowOffsetY:10}},yAxisIndex:0,data:o,zlevel:1}]};this.interactChartInstance.setOption(h)},setImpressChartData:function(t){for(var e=[],a=0;a<t.length;a++){var i={};i.name=t[a].word,i.value=t[a].weight,e.push(i)}var o={tooltip:{show:!1},series:[{type:"wordCloud",gridSize:12,sizeRange:[14,28],rotationRange:[0,0],shape:"circle",textStyle:{normal:{color:function(){var t=["#2AEAC5","#51C9F7","#459DF5","#22d4d1","#18c3df","#0099ff","#99a5ba","#c2c9d0","#0275e1","#e6a4dd","#f983a3","#8b80f0","#585ad5"];return t[Math.floor(13*Math.random())]}}},data:e}]};this.impressChartInstance.setOption(o)}};e.init(t)}});